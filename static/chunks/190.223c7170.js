"use strict";(globalThis.webpackChunkgrass_website=globalThis.webpackChunkgrass_website||[]).push([[190],{190:(h,a,s)=>{s.r(a),s.d(a,{default:()=>d});var i=s(1892),r=s(3263),o=s(6884);i.default.registerPlugin(r.default);class d extends o.Z{constructor(){super(...arguments),this.data=this.state({theme:null,direction:"up",position:0,offset:0,pinned:!1,navigating:!1,overlaying:!1})}async create(){this.handlers.triggerClick=this.onTriggerClick.bind(this),this.handlers.scrollTrigger=this.onScrollTrigger.bind(this),this.handlers.bodyClick=this.onBodyClick.bind(this),this.handlers.keyDown=this.onKeyDown.bind(this),this.handlers.buttonPress=this.onButtonPress.bind(this),this.handlers.navigationNavigate=this.onNavigationNavigate.bind(this),this.handlers.sectionToggle=this.onSectionToggle.bind(this),this.handlers.sectionStyle=this.onSectionStyle.bind(this),this.references.triggers=Array.isArray(this.references.triggers)?this.references.triggers:[this.references.triggers]}async mount(){window.document.addEventListener("button.press",this.handlers.buttonPress),this.element.addEventListener("section.toggle",this.handlers.sectionToggle),this.element.addEventListener("section.style",this.handlers.sectionStyle),this.references.triggers.forEach(e=>{e.addEventListener("click",this.handlers.triggerClick)}),this.references.navigation.addEventListener("navigation.navigate",this.handlers.navigationNavigate),this.references.menu&&this.manager?.get(this.references.menu.querySelector(".menu")).then(e=>{this.menu=e}),this.references.progress&&this.manager?.get(this.references.progress.querySelector(".progress")).then(e=>{this.progress=e}),this.references.overlay&&this.manager?.get(this.references.overlay.querySelector(".portal")).then(e=>{this.portal=e}),r.default.create({onUpdate:this.handlers.scrollTrigger}),i.default.fromTo(this.references.footer.querySelector(".footer"),{y:"-25%"},{y:0,ease:"none",scrollTrigger:{trigger:this.references.footer,start:"top bottom",end:()=>window.innerHeight>this.references.footer.offsetHeight?"bottom bottom":"top 25%",scrub:!0}})}navigate(e){return!this.data.navigating&&this.dispatch("page.navigate",{identifier:e})?this.doNavigate(e):!1}denavigate(){return this.data.navigating&&this.dispatch("page.denavigate")?this.doDenavigate():!1}overlay(e,t=!1){return!this.data.overlaying&&this.dispatch("page.overlay",{identifier:e,fullscreen:t})?this.doOverlay(e,t):!1}deoverlay(){return this.data.overlaying&&this.dispatch("page.deoverlay")?this.doDeoverlay():!1}pin(){return!this.data.pinned&&this.dispatch("page.pin")?this.doPin():!1}unpin(){return this.data.pinned&&this.dispatch("page.unpin")?this.doUnpin():!1}render(e){e==="theme"&&(this.references.header.classList.forEach(t=>{t.startsWith("is-")&&this.references.header.classList.remove(t)}),this.references.header.classList.add(`is-${this.data.theme}`)),e==="offset"&&this.element.style.setProperty("--component-page-offset",`${this.data.offset}px`),e==="pinned"&&(this.data.pinned?(this.element.classList.add("is-pinned"),window.scrollTo(0,0)):(this.element.classList.remove("is-pinned"),window.scrollTo(0,this.data.offset))),e==="direction"&&(this.data.direction==="down"?(this.element.classList.add("is-down"),this.element.classList.remove("is-up")):(this.element.classList.add("is-up"),this.element.classList.remove("is-down"))),e==="navigating"&&(this.data.navigating?(this.element.classList.add("is-navigating"),this.references.menu.removeAttribute("tabindex"),this.references.menu.removeAttribute("aria-hidden")):(this.element.classList.remove("is-navigating"),this.references.menu.setAttribute("tabindex","-1"),this.references.menu.setAttribute("aria-hidden","true"))),e==="overlaying"&&(this.data.overlaying?(this.element.classList.add("is-overlaying"),this.references.overlay.removeAttribute("tabindex"),this.references.overlay.removeAttribute("aria-hidden")):(this.element.classList.remove("is-overlaying"),this.references.overlay.setAttribute("tabindex","-1"),this.references.overlay.setAttribute("aria-hidden","true"))),e==="fullscreen"&&(this.data.fullscreen?this.element.classList.add("is-fullscreen"):this.element.classList.remove("is-fullscreen"))}bindBodyClick(){window.requestAnimationFrame(()=>window.document.body.addEventListener("click",this.handlers.bodyClick))}unbindBodyClick(){window.requestAnimationFrame(()=>window.document.body.removeEventListener("click",this.handlers.bodyClick))}bindKeyDown(){window.requestAnimationFrame(()=>window.document.addEventListener("keydown",this.handlers.keyDown))}unbindKeyDown(){window.requestAnimationFrame(()=>window.document.removeEventListener("keydown",this.handlers.keyDown))}onTriggerClick(e){const t=e.target.dataset.pageTrigger;t==="navigate"?this.navigate():t==="denavigate"?this.denavigate():t==="deoverlay"&&this.deoverlay(),e.preventDefault()}onScrollTrigger(e){if(!this.data.pinned){const t=window.scrollY;if(Math.abs(t-this.data.position)>16){const n=e.direction===1?"down":"up";this.data.position=t>0?t:0,this.data.direction!==n&&(this.data.direction=n)}this.progress?.set(e.progress)}}onBodyClick(e){!this.references.menu.contains(e.target)&&!this.references.overlay.contains(e.target)&&(this.data.navigating&&this.denavigate(),this.data.overlaying&&this.deoverlay())}onKeyDown(e){e.code==="Escape"&&(this.data.navigating&&this.denavigate(),this.data.overlaying&&this.deoverlay(),e.preventDefault())}onButtonPress(e){const t=e.target.dataset.pageIdentifier,n=e.target.hasAttribute("data-page-fullscreen");t&&this.overlay(t,n)&&e.preventDefault()}onNavigationNavigate(e){const t=e.detail.identifier;t&&this.navigate(t)&&e.preventDefault()}onSectionToggle(e){this.data.theme=e.detail.component.theme||"light"}onSectionStyle(e){this.data.theme=e.detail.theme}doNavigate(e){return this.menu?.navigate(e,!0)?(i.default.to(this.references.menu,{duration:.5,ease:"power2.out",x:"100%",onStart:()=>{this.pin(),this.data.navigating=!0}}),!0):!1}doDenavigate(){return this.menu?.reset()?(i.default.to(this.references.menu,{duration:.35,ease:"power4.in",x:"0%",onComplete:()=>{this.data.navigating=!1,this.unpin()}}),!0):!1}doOverlay(e,t=!1){return e&&this.portal?.set(e)?(i.default.to(this.references.overlay,{duration:.75,ease:"power2.out",x:"-100%",onStart:()=>{this.pin(),this.data.fullscreen=t,this.data.overlaying=!0}}),!0):!1}doDeoverlay(){return i.default.to(this.references.overlay,{duration:.5,ease:"power4.in",x:"0%",onComplete:()=>{this.unpin(),this.data.overlaying=!1,this.portal?.clear()}}),!0}doPin(){return this.data.pinned=!0,this.data.offset=window.scrollY,this.bindKeyDown(),this.bindBodyClick(),!0}doUnpin(){return this.data.pinned=!1,this.unbindKeyDown(),this.unbindBodyClick(),!0}}}}]);
